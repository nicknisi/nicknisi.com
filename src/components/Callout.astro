---
import { Icon } from 'astro-icon/components';
interface Props {
	title?: string | undefined;
	variant?: keyof typeof variants | undefined;
}

const variants = {
	default: {
		icon: 'mdi:message-outline',
		bg: 'bg-cool-gray-50 dark:bg-dark-oxford-blue',
		border: 'border-cool-gray-200 dark:border-cool-gray-700',
		text: 'text-cool-gray-600 dark:text-cool-gray-300',
		title: 'text-cool-gray-900 dark:text-cool-gray-100',
		iconColor: 'text-cool-gray-400 dark:text-cool-gray-500',
	},
	info: {
		icon: 'mdi:information-slab-circle-outline',
		bg: 'bg-vivid-light-blue-50 dark:bg-vivid-light-blue-900/30',
		border: 'border-vivid-light-blue-200 dark:border-vivid-light-blue-800',
		text: 'text-vivid-light-blue-700 dark:text-vivid-light-blue-300',
		title: 'text-vivid-light-blue-900 dark:text-vivid-light-blue-100',
		iconColor: 'text-vivid-light-blue-500 dark:text-vivid-light-blue-400',
	},
	warning: {
		icon: 'mdi:alert-outline',
		bg: 'bg-yellow-50 dark:bg-yellow-900/30',
		border: 'border-yellow-200 dark:border-yellow-800',
		text: 'text-yellow-700 dark:text-yellow-300',
		title: 'text-yellow-900 dark:text-yellow-100',
		iconColor: 'text-yellow-500 dark:text-yellow-400',
	},
	success: {
		icon: 'mdi:check-circle-outline',
		bg: 'bg-teal-50 dark:bg-teal-900/30',
		border: 'border-teal-200 dark:border-teal-800',
		text: 'text-teal-700 dark:text-teal-300',
		title: 'text-teal-900 dark:text-teal-100',
		iconColor: 'text-teal-500 dark:text-teal-400',
	},
	error: {
		icon: 'mdi:x-circle-outline',
		bg: 'bg-red-50 dark:bg-red-900/30',
		border: 'border-red-200 dark:border-red-800',
		text: 'text-red-700 dark:text-red-300',
		title: 'text-red-900 dark:text-red-100',
		iconColor: 'text-red-500 dark:text-red-400',
	},
} as const;

const { title, variant = 'default' } = Astro.props;
const { icon, bg, border, text, title: titleStyles, iconColor } = variants[variant];
---

<div class:list={['not-prose rounded-lg border p-4', bg, border, text]}>
	<div class="flex items-baseline space-x-3 text-xl">
		<Icon name={icon} class:list={['mt-0.5 h-5 w-5', iconColor]} />
		<div class="flex-1">
			{
				title ? (
					<div>
						<h3 class:list={['mb-1 font-medium', titleStyles]}>{title}</h3>
						<div class="font-sans text-sm">
							<slot />
						</div>
					</div>
				) : (
					<div class:list={['font-sans text-sm', titleStyles]}>
						<slot />
					</div>
				)
			}
		</div>
	</div>
</div>
